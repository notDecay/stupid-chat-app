var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function a(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n)}function c(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function g(){return d(" ")}function p(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function m(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}let f;function h(e){f=e}function $(e){(function(){if(!f)throw new Error("Function called outside component initialization");return f})().$$.on_mount.push(e)}function b(){const e=f;return(t,n)=>{const s=e.$$.callbacks[t];if(s){const a=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);s.slice().forEach((t=>{t.call(e,a)}))}}}const y=[];let x;const k=[],w=[],z=[];function _(e){k.push(e)}function N(e){w.push(e)}function q(){const e=new Set;do{for(;y.length;){const e=y.shift();h(e),j(e.$$)}for(;k.length;)k.shift()();for(;w.length;){const t=w.pop();e.has(t)||(t(),e.add(t))}}while(y.length);for(;z.length;)z.pop()();x=null}function j(e){e.fragment&&(e.update(e.dirty),s(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(N))}function E(e,n,r){const{fragment:o,on_mount:i,on_destroy:c,after_render:l}=e.$$;o.m(n,r),N((()=>{const n=i.map(t).filter(a);c?c.push(...n):s(n),e.$$.on_mount=[]})),l.forEach(N)}function C(e,t){e.$$.dirty||(y.push(e),x||(x=Promise.resolve(),x.then(q)),e.$$.dirty={}),e.$$.dirty[t]=!0}function T(t,a,r,o,i,c){const l=f;h(t);const d=a.props||{},u=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:null};let g=!1;u.ctx=r?r(t,d,((e,n)=>{u.ctx&&i(u.ctx[e],u.ctx[e]=n)&&(u.bound[e]&&u.bound[e](n),g&&C(t,e))})):d,u.update(),g=!0,s(u.before_render),u.fragment=o(u.ctx),a.target&&(a.hydrate?u.fragment.l(function(e){return Array.from(e.childNodes)}(a.target)):u.fragment.c(),a.intro&&t.$$.fragment.i&&t.$$.fragment.i(),E(t,a.target,a.anchor),q()),h(l)}class I{$destroy(){var t,n;n=!0,(t=this).$$&&(s(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function M(e,t,n,s,...a){console[e](`%c ${n} %c ${s}`,`background: ${t}; border-radius: 4px; font-weight: bold; color:white`,"",...a)}const S="#35c4b6",A="#c44835";class H{static success(e,...t){M("log","#35c452","success",e,...t)}static warn(e,...t){M("warn","#a1912a","warn",e,...t)}static info(e,...t){M("log",S,"info",e,...t)}static ready(e,...t){M("log",S,"ready",e,...t)}static start(e,...t){M("log","#35c450","start",e,...t)}static err(e,...t){M("error",A,"error",e,...t)}static fatal(e,...t){M("error",A,"fatal",e,...t)}}function L(t){var n,a;return{c(){(n=l("textarea")).className="no-bg no-outline svelte-19o1km",n.rows="1",n.placeholder="Say something :)",a=[p(n,"input",O),p(n,"keypress",t.onTyping)]},m(e,t){i(e,n,t)},p:e,i:e,o:e,d(e){e&&c(n),s(a)}}}const B=20;function O(e){const t=e.target;if(t.scrollHeight>15*B)return H.warn("maxinum rows exceeded");D(t),t.style.height=t.scrollHeight+"px"}function D(e){e.style.height=""}function F(e){const t=b();return{onTyping:function(e){if(e.shiftKey&&"Enter"===e.key)return;if("Enter"!==e.key)return;e.preventDefault();const n=e.target,s=n.value,a=s.trim();if(""==a||"> "==s)return H.warn("message is empty");n.value="",n.focus(),D(n),t("sending_message",a)}}}class G extends I{constructor(e){var t;super(),document.getElementById("svelte-19o1km-style")||((t=l("style")).id="svelte-19o1km-style",t.textContent="textarea.svelte-19o1km{color:white;width:100%;padding:0 0 0 5px;resize:none;background:transparent !important;overflow:hidden;overflow-y:scroll}",o(document.head,t)),T(this,e,F,L,r,[])}}function J(e,t,n){const s=Object.create(e);return s.icon=t[n],s}function K(t){var n,s,a;return{c(){n=l("div"),s=l("div"),a=g(),s.className="icon "+t.icon,n.className="this-is edit-button bro",m(n,"aria-label","button")},m(e,t){i(e,n,t),o(n,s),o(n,a)},p:e,d(e){e&&c(n)}}}function P(t){for(var n,s,a=t.iconNames,r=[],d=0;d<a.length;d+=1)r[d]=K(J(t,a,d));return{c(){n=l("div"),s=l("div");for(var e=0;e<r.length;e+=1)r[e].c();s.className="edit-message-icons",n.className="edit-message-container"},m(e,t){i(e,n,t),o(n,s);for(var a=0;a<r.length;a+=1)r[a].m(s,null)},p(e,t){if(e.iconNames){a=t.iconNames;for(var n=0;n<a.length;n+=1){const o=J(t,a,n);r[n]?r[n].p(e,o):(r[n]=K(o),r[n].c(),r[n].m(s,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=a.length}},i:e,o:e,d(e){e&&c(n),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(r,e)}}}function U(e){return{iconNames:["icon-reply"]}}class Q extends I{constructor(e){super(),T(this,e,U,P,r,[])}}function R(e){var t,n,s,a,r,u,p,m,f=e.message.replyTo.author.name,h=e.message.replyTo.content;return{c(){t=l("div"),n=l("div"),s=g(),a=l("div"),r=d(f),u=g(),p=l("div"),m=d(h),n.className="author icon",a.className="author-name",p.className="content",t.className="message-reply"},m(e,c){i(e,t,c),o(t,n),o(t,s),o(t,a),o(a,r),o(t,u),o(t,p),o(p,m)},p(e,t){e.message&&f!==(f=t.message.replyTo.author.name)&&v(r,f),e.message&&h!==(h=t.message.replyTo.content)&&v(m,h)},d(e){e&&c(t)}}}function V(e){var t,n,s,a,r,u,p,f,h,$,b,y,x,k,w,z=e.message.author.name,N=e.message.replyTo&&R(e),q=new Q({});return{c(){t=l("div"),N&&N.c(),n=g(),s=l("div"),(a=l("div")).innerHTML='<div class="author icon"></div>',r=g(),u=l("div"),p=l("div"),f=d(z),h=g(),$=l("div"),b=l("p"),y=g(),q.$$.fragment.c(),p.className="author-name",$.className="content",u.className="warpper",s.className="message-content-container",t.className="message last-message",m(t,"message-id",x=e.message.messageId),m(t,"user-id",k=e.message.author.id)},m(c,l){i(c,t,l),N&&N.m(t,null),o(t,n),o(t,s),o(s,a),o(s,r),o(s,u),o(u,p),o(p,f),o(u,h),o(u,$),o($,b),_((()=>e.p_binding(b,null))),o(t,y),E(q,t,null),w=!0},p(e,s){s.message.replyTo?N?N.p(e,s):((N=R(s)).c(),N.m(t,n)):N&&(N.d(1),N=null),w&&!e.message||z===(z=s.message.author.name)||v(f,z),e.items&&(s.p_binding(null,b),s.p_binding(b,null)),w&&!e.message||x===(x=s.message.messageId)||m(t,"message-id",x),w&&!e.message||k===(k=s.message.author.id)||m(t,"user-id",k)},i(e){w||(q.$$.fragment.i(e),w=!0)},o(e){q.$$.fragment.o(e),w=!1},d(n){n&&c(t),N&&N.d(),e.p_binding(null,b),q.$destroy()}}}function W(e,t,n){let s,{message:a}=t;return $((()=>{s.innerHTML=a.content,n("messageContent",s),console.log(s,a.content)})),e.$set=e=>{"message"in e&&n("message",a=e.message)},{message:a,messageContent:s,p_binding:function(e,t){s=e,n("messageContent",s)}}}class X extends I{constructor(e){super(),T(this,e,W,V,r,["message"])}}function Y(e){var t,n,s,a,r,d,u,p=new Q({});return{c(){t=l("div"),n=l("div"),s=l("p"),a=g(),p.$$.fragment.c(),n.className="content",t.className="message follow-up last-message",m(t,"message-id",r=e.message.messageId),m(t,"user-id",d=e.message.author.id)},m(r,c){i(r,t,c),o(t,n),o(n,s),_((()=>e.p_binding(s,null))),o(t,a),E(p,t,null),u=!0},p(e,n){e.items&&(n.p_binding(null,s),n.p_binding(s,null)),u&&!e.message||r===(r=n.message.messageId)||m(t,"message-id",r),u&&!e.message||d===(d=n.message.author.id)||m(t,"user-id",d)},i(e){u||(p.$$.fragment.i(e),u=!0)},o(e){p.$$.fragment.o(e),u=!1},d(n){n&&c(t),e.p_binding(null,s),p.$destroy()}}}function Z(e,t,n){let s,{message:a}=t;return $((()=>{s.innerHTML=a.content,n("messageContent",s),console.log(s,a.content)})),e.$set=e=>{"message"in e&&n("message",a=e.message)},{message:a,messageContent:s,p_binding:function(e,t){s=e,n("messageContent",s)}}}class ee extends I{constructor(e){super(),T(this,e,Z,Y,r,["message"])}}const te=new Map,ne=new class{parse(e){return e=e.replace(/__(.*)__/gim,"<b>$1</b>").replace(/\*\*(.*)\*\*/gim,"<b>$1</b>").replace(/\*(.*)\*|_(.*)_/gim,"<i>$1</i>").replace(/~~(.*)~~/gim,"<s>$1</s>").replace(/^```([\s\S]*?)```$/gm,'<pre class="code-block">$1</pre>').replace(/^```(?:js|javascript|)\n([\s\S]*?)```$/gm,'<pre class="code-block">$1</pre>').replace(/`(.*)`/g,'<pre class="inline-code">$1</pre>').replace(/^>(?:(.+)| )$/gm,"<blockquote>$1</blockquote>").replace(/^([\#]{6}) (.+)/gm,"<h6>$2</h6>").replace(/^([\#]{5}) (.+)/gm,"<h5>$2</h5>").replace(/^([\#]{4}) (.+)/gm,"<h4>$2</h4>").replace(/^([\#]{3}) (.+)/gm,"<h3>$2</h3>").replace(/^([\#]{2}) (.+)/gm,"<h2>$2</h2>").replace(/^([\#]{1}) (.+)/gm,"<h1>$2</h1>").replace(/^\s*\n\*/gm,"<ul>\n*").replace(/^(\*.+)\s*\n([^\*])/gm,"$1\n</ul>\n\n$2").replace(/^\*(.+)/gm,"<li>$1</li>").replace(/^\s*\n\d\./gm,"<ol>\n1.").replace(/^(\d\..+)\s*\n([^\d\.])/gm,"$1\n</ol>\n\n$2").replace(/^\d\.(.+)/gm,"<li>$1</li>")}};function se(e){let t=function(e=""){return e.replace(/<|>/gm,(e=>{if(!e)return"";return`<span>${e.replaceAll(">","&gt;").replaceAll("<","&lt;")}</span>`})).replaceAll("&","<span>&amp;</span>")}(e.content);t=function(e){const t=/(http|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])/gm;return e=e.replace(t,(e=>`\n    <a href="${e}" target="_blank">${e}</a>\n  `)),function(e=""){return e.replace(/\n/gm,(e=>`<div>${e}</div>`))}(ne.parse(e))}(t),console.log("render message content is:",t);const n=Array.from(te.values()).pop(),s=u(".chat-content").nodes[0];console.log("last message in cache:",n,", message data",e),n?.author.id!=e.author.id||e.replyTo?new X({target:s,props:{message:{...e,content:t}}}):new ee({target:s,props:{message:{...e,content:t}}}),u(".message:last-child").removeClass("last-message"),te.set(e.messageId,e)}function ae(t){var n,s,a,r,d,u,p,m,v,f,h,$,b=new G({});return b.$on("sending_message",re),{c(){n=l("link"),s=g(),a=l("div"),r=l("div"),d=g(),u=l("div"),p=l("div"),m=g(),v=l("div"),(f=l("div")).innerHTML='<div class="icon icon-plus svelte-1csacz9"></div>',h=g(),b.$$.fragment.c(),n.rel="stylesheet",n.href="../src/page/Message.css",n.className="svelte-1csacz9",r.className="chat-content svelte-1csacz9",p.className="svelte-1csacz9",f.className="upload svelte-1csacz9",v.className="message-input svelte-1csacz9",u.className="chat-msg-input-container svelte-1csacz9",a.className="chat-page svelte-1csacz9"},m(e,t){i(e,n,t),i(e,s,t),i(e,a,t),o(a,r),o(a,d),o(a,u),o(u,p),o(u,m),o(u,v),o(v,f),o(v,h),E(b,v,null),$=!0},p:e,i(e){$||(b.$$.fragment.i(e),$=!0)},o(e){b.$$.fragment.o(e),$=!1},d(e){e&&(c(n),c(s),c(a)),b.$destroy()}}}function re(e){se({author:{iconUrl:"",id:`user-${sessionStorage.getItem("user_id")}`,name:"Duck"},content:e.detail,messageId:null})}class oe extends I{constructor(e){var t;super(),document.getElementById("svelte-1csacz9-style")||((t=l("style")).id="svelte-1csacz9-style",t.textContent=":root{--chat-message-selected-color:#434352;--chat-message-input-color:#18171d;--chat-scroll-bar-color:#23232c}.chat-page.svelte-1csacz9{height:100%;padding:var(--app-space) 0 0 var(--app-space) ;position:relative;grid-template-rows:auto 3.75rem}.chat-content.svelte-1csacz9{max-height:82.5vh;padding-top:1rem;overflow-y:scroll}::-webkit-scrollbar{background:var(--chat-scroll-bar-color);border-radius:5px;width:13px}::-webkit-scrollbar-thumb{width:5px;background:var(--app-sidebar-color)}.chat-msg-input-container.svelte-1csacz9{position:absolute;bottom:0;width:100%}.chat-msg-input-container.svelte-1csacz9 .message-input.svelte-1csacz9{display:flex;align-items:center;gap:20px;background:var(--chat-message-input-color);margin-bottom:10px;padding:15px;border-radius:10px}.chat-msg-input-container.svelte-1csacz9 .upload.svelte-1csacz9{padding:5px}",o(document.head,t)),T(this,e,null,ae,r,[])}}function ie(t){var n;return{c(){(n=l("section")).innerHTML='<div class="section-title svelte-kgh1bv"><div class="icon icon-arrow svelte-kgh1bv"></div>\n\t\t\t    <h3 class="svelte-kgh1bv">you { display: flex; }</h3></div>\n\t\t\t  <ul class="svelte-kgh1bv"><li class="svelte-kgh1bv"><div class="icon svelte-kgh1bv"></div>\n\t\t\t      <div class="menu-item-name svelte-kgh1bv">General</div>\n\t\t\t      <div class="notification-count svelte-kgh1bv"><span>1</span></div></li></ul>',n.className="section-menu svelte-kgh1bv"},m(e,t){i(e,n,t)},p:e,i:e,o:e,d(e){e&&c(n)}}}class ce extends I{constructor(e){var t;super(),document.getElementById("svelte-kgh1bv-style")||((t=l("style")).id="svelte-kgh1bv-style",t.textContent=".section-menu.svelte-kgh1bv{padding:var(--app-space)}ul.svelte-kgh1bv{padding-inline-start:0px;margin-bottom:3rem}li.svelte-kgh1bv{display:flex;align-items:center;gap:9px;list-style:none;padding:5px 10px 5px 24px;margin:5px 0;transition:all 0.1s ease-out;cursor:pointer;border-radius:5px}li.svelte-kgh1bv:hover{font-weight:bold;background:var(--app-icon-selected-color)}.section-title.svelte-kgh1bv{display:flex;align-items:center;gap:10px;margin:7px 0}.section-title.svelte-kgh1bv h3.svelte-kgh1bv{margin:0}.section-title.svelte-kgh1bv .icon.svelte-kgh1bv{--icon-bound:14px;transition:background-color 0.15s ease-out;cursor:pointer;padding:4px}.section-title.svelte-kgh1bv .icon.svelte-kgh1bv:hover{background-color:var(--app-icon-selected-color)}.menu-item.svelte-kgh1bv{display:flex;align-items:center;gap:9px;list-style:none;padding:5px 10px 5px 24px;margin:5px 0;transition:all 0.1s ease-out;cursor:pointer;border-radius:5px}li.svelte-kgh1bv .icon.svelte-kgh1bv{--icon-url:url('https://cdn.discordapp.com/attachments/1089483298327253075/1136142944273969273/image.jpeg')}li.svelte-kgh1bv .menu-item.svelte-kgh1bv:hover{font-weight:bold;background-color:var(--app-icon-selected-color)}li.svelte-kgh1bv .notification-count.svelte-kgh1bv{margin-left:auto;padding:1px 9px;border-radius:8px;background:var(--app-notification-color)}",o(document.head,t)),T(this,e,null,ie,r,[])}}function le(t){var n;return{c(){(n=l("div")).innerHTML='<div class="icon user-avatar svelte-frqaz"></div>\n\t\t\t  <div class="user-name-warpper svelte-frqaz"><div class="user-name svelte-frqaz">Amongious</div>\n\t\t\t    <div class="user-status svelte-frqaz">something</div></div>\n\t\t\t  <div class="setting svelte-frqaz"><div class="icon icon-gear svelte-frqaz"></div></div>',n.className="setting-warpper svelte-frqaz"},m(e,t){i(e,n,t)},p:e,i:e,o:e,d(e){e&&c(n)}}}class de extends I{constructor(e){var t;super(),document.getElementById("svelte-frqaz-style")||((t=l("style")).id="svelte-frqaz-style",t.textContent=".setting-warpper.svelte-frqaz{--bottom-padding:1rem;display:flex;align-items:center;gap:15px;padding:1rem var(--bottom-padding) 1rem;width:-webkit-fill-available;position:absolute;bottom:0;background-color:#23232c;border-radius:0 0 var(--app-sidebar-border-radius) var(--app-sidebar-border-radius)}.user-name.svelte-frqaz{font-weight:bold}.user-status.svelte-frqaz{font-size:14px;color:var(--app-user-status-color)}.setting-warpper.svelte-frqaz .user-avatar.svelte-frqaz{--icon-bound:2rem;--icon-url:url('https://media.discordapp.net/attachments/1089483298327253075/1136148197572616304/image.jpeg');border-radius:50%}.setting.svelte-frqaz{margin-left:auto;cursor:pointer;display:flex;justify-content:center;align-items:center;padding:5px}.setting.svelte-frqaz:hover{background-color:var(--app-icon-selected-color)}.setting-warpper.svelte-frqaz .icon-gear.svelte-frqaz{--icon-bound:1.25rem}",o(document.head,t)),T(this,e,null,le,r,[])}}function ue(t){var n,s,a,r,d,u,p=new ce({}),m=new de({}),v=new oe({});return{c(){n=l("div"),s=l("aside"),p.$$.fragment.c(),a=g(),m.$$.fragment.c(),r=g(),d=l("main"),v.$$.fragment.c(),s.className="svelte-zi7nji",d.className="svelte-zi7nji",n.className="app-container screen svelte-zi7nji"},m(e,t){i(e,n,t),o(n,s),E(p,s,null),o(s,a),E(m,s,null),o(n,r),o(n,d),E(v,d,null),u=!0},p:e,i(e){u||(p.$$.fragment.i(e),m.$$.fragment.i(e),v.$$.fragment.i(e),u=!0)},o(e){p.$$.fragment.o(e),m.$$.fragment.o(e),v.$$.fragment.o(e),u=!1},d(e){e&&c(n),p.$destroy(),m.$destroy(),v.$destroy()}}}class ge extends I{constructor(e){var t;super(),document.getElementById("svelte-zi7nji-style")||((t=l("style")).id="svelte-zi7nji-style",t.textContent=".app-container.svelte-zi7nji{padding:var(--app-space);display:grid;grid-template-columns:1fr 3fr;background:var(--app-bg-color);color:var(--app-text-color);gap:var(--app-space)}aside.svelte-zi7nji,main.svelte-zi7nji{height:100%}aside.svelte-zi7nji{background:var(--app-sidebar-color);border-radius:var(--app-sidebar-border-radius);position:relative}main.svelte-zi7nji{overflow:hidden}",o(document.head,t)),T(this,e,null,ue,r,[])}}function pe(t){var n,s=new ge({});return{c(){s.$$.fragment.c()},m(e,t){E(s,e,t),n=!0},p:e,i(e){n||(s.$$.fragment.i(e),n=!0)},o(e){s.$$.fragment.o(e),n=!1},d(e){s.$destroy(e)}}}sessionStorage.setItem("user_id",`user-${function(e=5){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s=0;for(;s<e;)t+=n.charAt(Math.floor(62*Math.random())),s+=1;return t}(10)}`);const me=new class extends I{constructor(e){super(),T(this,e,null,pe,r,[])}}({target:document.querySelector(".app-mount")});H.start("Starting this app... (v1.0.0 dev-build 5)\n  .        ／＞　 フ\n          | 　_　_| \n        ／` ミ__^ノ \n       /　　　　 |\n      /　 ヽ　　 ﾉ              ╱|、\n     /　　 |　|　|            (˚ˎ 。7  \n    ／￣|　　 |　|　|          |、˜〵          \n    (￣ヽ＿_  ヽ_)__)         じしˍ,)ノ\n    ＼二)\n"),H.info("hello from space.JS! v1.0");const ve=location.pathname.split("/").pop().replace(".html","");return console.log("user id:",sessionStorage.getItem("user_id")),H.info(`you're currently on "${ve}" page`),H.success("app mounted"),me}();
//# sourceMappingURL=bundle.js.map
